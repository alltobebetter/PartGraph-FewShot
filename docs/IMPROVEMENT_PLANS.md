### 方案 1: 增加 Slot 容量 ⏱️ 1-2小时

**改动**:
```python
num_slots: 5 → 12
slot_dim: 64 → 256
```

**预期**: 准确率 26% → 40-50%

**优点**: 改动最小  
**缺点**: 可能治标不治本

---

### 方案 2: 对比学习 ⏱️ 2-3天

**核心思想**: 不重建图像，而是学习区分图像

**实现**:
```python
loss = contrastive_loss(slots1, slots2, are_same_class)
# 同类: 距离小
# 异类: 距离大
```

**预期**: 准确率 → 60-70%

**优点**: 目标和分类一致  
**缺点**: 需要重写训练代码

---

### 方案 3: 弱监督 (利用 CUB 关键点) ⏱️ 3-4天

**核心思想**: 用 CUB 的15个关键点引导 Slot

**实现**:
```python
loss_guide = distance(slot_center, nearest_keypoint)
total_loss = loss_recon + 0.3 * loss_guide
```

**预期**: 准确率 → 65-75%

**优点**: Slot 学到语义部件  
**缺点**: 需要额外数据处理

---

### 方案 4: 多任务学习 ⏱️ 2-3天

**核心思想**: 同时训练重建+分类

**实现**:
```python
loss = loss_recon + 0.5 * loss_classification
```

**预期**: 准确率 → 55-65%

**优点**: 平衡重建和分类  
**缺点**: 需要调整损失权重

---

## 6. 推荐路线

### 阶段 1: 快速验证 (今天)
**试方案 1**: 增加容量，看能否到40%+
- 如果成功 → 说明是容量问题
- 如果失败 → 说明是训练目标问题

### 阶段 2: 中期改进 (本周)
**试方案 4**: 多任务学习
- 目标: 50-60%

### 阶段 3: 长期探索 (1-2周)
**试方案 2 或 3**: 对比学习 或 弱监督
- 目标: 超过 Baseline 或在特定场景表现更好

---

## 7. 关键洞察

### 成功的部分
✅ Slot Attention 能自动分解图像  
✅ 无监督学习可行  
✅ 工程实现正确

### 失败的部分
❌ 重建任务没教会模型学习区分性特征  
❌ Slot 特征太粗糙  
❌ 当前方法无法直接应用

### 核心教训
**重建任务的目标 (最小化MSE) ≠ 分类任务的目标 (最大化类间距离)**

这是一个深刻的教训，说明我们需要重新思考训练目标。

---

## 8. 下一步行动

1. **立即**: 试方案1 (改2个参数，重新训练)
2. **本周**: 如果方案1失败，实现方案4
3. **长期**: 系统探索方案2和3

**时间投入**: 愿意投入足够时间把它做好

---

*文档结束*
